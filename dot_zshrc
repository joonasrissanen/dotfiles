zmodload zsh/zprof
autoload -Uz compinit
if [ "$(date +'%j')" != "$(stat -f '%Sm' -t '%j' ~/.zcompdump 2>/dev/null)" ]; then
    compinit
else
    compinit -C
fi
DISABLE_AUTO_UPDATE="true"
DISABLE_MAGIC_FUNCTIONS="true"
DISABLE_COMPFIX="true"

# Load .profile
if [[ -r "${HOME}/.profile" ]]; then
  emulate ksh -c "source '${HOME}/.profile'"
fi

HISTFILE=~/.zsh_history
HISTSIZE=10000
SAVEHIST=50000

export ZSH="$HOME/.oh-my-zsh"

ZSH_THEME="robbyrussell"

setopt APPEND_HISTORY                   # adds history
setopt INC_APPEND_HISTORY SHARE_HISTORY # adds history incrementally and share it across sessions
setopt HIST_IGNORE_ALL_DUPS             # don't record dupes in history
setopt HIST_REDUCE_BLANKS

zstyle ':omz:plugins:nvm' lazy yes

plugins=(
  nvm
  git
  docker
  docker-compose
  kubectl
  helm
  npm
  gcloud
  pyenv
  rbenv
  zsh-syntax-highlighting
)

fpath+=${ZSH_CUSTOM:-${ZSH:-~/.oh-my-zsh}/custom}/plugins/zsh-completions/src
source "${ZSH}/oh-my-zsh.sh"
